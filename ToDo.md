# Стенды КИП

## Слой логики

### Рамы

- [x] Дописать функционал рам
    - [x] Добавление новой
    - [x] Редактирование существующей
    - [x] Отображение комплектующих
    - [x] Добавление комплектующих
    - [x] Удаление рамы
    - [x] Удаление выбранной комплектующей
    - [x] Добавить возможность несколько одинаковых комплектующих

### Стенды

- [x] Добавление рам к стенду
- [x] Добавление дренажей к стенду
- [x] Убрать дублирование записей на UI
- [x] Добавление электрических компонентов к стенду
- [x] Тест полного цикла создания
- [x] Взять данные из таблицы "обвязок" в таблицу "обвязки в стенде"
- [x] При закрытии создании и редактировании проекта всё нормально, отображаются назначения. Но при закрытии приложения
  уже нет
- [x] Добавить выбор комплектух из диалоговых окон и дефолтные значения
- [x] В предпросмотре проекта добавить возможность удаление из стендов комплектующих
- [ ] Добавить функционал под создание упаковки стендов
- [ ] Имена стендов должны быть уникальными


### Баги
- [ ] При добавлении нового стенда в проект, меняются поля первого стенда в проекте
- [x] на окне создания обвязок не видит привязки к некоторым полям
- [ ] Баг на UI, при добавлении нового стенда в проект, сначала берётся всё из первого стенда, поля в UI меняются, но в
  БД не меняются
- [ ] Руководитель проекта не отображается в карточке проекта
- [ ] Руководитель проекта дропается из базы при переформировании проекта


### Отчёты

- [x] Расчёт ведомости комплектующих
- [x] Придумать как рассчитывать проект
- [ ] Фин. план
- [ ] Остальные(они небольшие)
- [x] Кол-во стендов автоматом
- [x] Как формируется отчёт о табличках


### Первая очередь

- [x] Расчёт элементов стенда (почти всё)
- [x] Выбор из диалога для комплектующих
- [x] Дефолтный дренаж сделать на view
- [x] Дефолтный электрокомпонент сделать на view
- [x] Вставка чертежа стенда
- [x] Удаление стенда из проекта
- [x] Добавить удаление обвязок в стенде и редактирование обвязок
- [ ] Создание отчётов
- [ ] Добавить прогресс бар
- [ ] Ввести поддержку async команд
- [ ] Рефакторинг инициализации команд
- [ ] Рефакторинг инициализации провайдеров команд
- [x] В выпадающем меню кнопки открытия таблиц для кронштейнов коробок и датчиков перепутаны
- [x] в формировании стенда электрические компоненты и доп комплектующие тоже


### Рефакторинг

- [ ] В далёком будущем выполнить "План.txt"
- [ ] Рефакторинг ViewModel's
    - [x] Извлечь методы, оставить только вызов в командах
        - [x] `UserViewModel.cs`
        - [x] `CompaniesViewModels.cs`
        - [x] `StandViewModel` и `ProjectViewModel`
        - [x] `FormedFrameViewModel.cs`
        - [x] Делегировать сервисам работу в VM
    -[x] Написать сервисы
        - [x] `ProjectService` (50/50) сейчас
        - [x] `StandService`
        - [x] `Для остальных VM`

## UI слой

- [x] Изменить вёрстки в `TreeView` и `UserControl's` чтобы было всё ровно и не разваливалось
- [x] Единый стиль для всех окон
- [x] Переписать View для обвязок
- [x] Изменить окно "Стенд"

## Желательно

- [ ] Изменения строки подключения
- [x] Тёмная тема (частично)
- [ ] Добавить юнит тесты
- [x] Добавить настройки приложения
- [ ] Добавление справки
- [x] Добавление автообновления
- [ ] Исправить логирование (местами есть дубликаты), уменьшить уровень логирования